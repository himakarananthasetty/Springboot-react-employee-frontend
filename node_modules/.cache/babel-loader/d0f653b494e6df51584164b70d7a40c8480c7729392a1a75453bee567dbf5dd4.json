{"ast":null,"code":"import _regeneratorRuntime from\"/Users/himakarananthasetty/CodewithHimakar/fullstack-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/himakarananthasetty/CodewithHimakar/fullstack-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/himakarananthasetty/CodewithHimakar/fullstack-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];useEffect(function(){loadUsers();},[]);//because of emply array it wil run only once, else it will run unlimited times.\nvar loadUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:8080/users\");case 2:result=_context.sent;setUsers(result.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function loadUsers(){return _ref.apply(this,arguments);};}();var _useParams=useParams(),id=_useParams.id;var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"http://localhost:8080/user/\".concat(id));case 2:loadUsers();case 3:case\"end\":return _context2.stop();}},_callee2);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container \",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table border-lg shadow-lg \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1},index),/*#__PURE__*/_jsx(\"td\",{children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{children:user.userName}),/*#__PURE__*/_jsx(\"td\",{children:user.emailId}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary mx-2\",to:\"/viewuser/\".concat(user.id),children:\" View\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-primary mx-2\",to:\"/edituser/\".concat(user.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2 \",onClick:function onClick(){return deleteUser(user.id);},children:\" Delete\"})]})]});})})]})})});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useParams","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","users","setUsers","loadUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","get","sent","data","stop","apply","arguments","_useParams","id","deleteUser","_ref2","_callee2","_callee2$","_context2","delete","concat","_x","className","children","scope","map","user","index","firstName","lastName","userName","emailId","to","onClick"],"sources":["/Users/himakarananthasetty/CodewithHimakar/fullstack-frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { Link, useParams } from 'react-router-dom';\n\nconst Home = () => {\n    const [users, setUsers] = useState([])\n\n    useEffect(() => {\n        loadUsers();\n    }, []);\n    //because of emply array it wil run only once, else it will run unlimited times.\n    const loadUsers = async () => {\n        const result = await axios.get(\"http://localhost:8080/users\")\n        setUsers(result.data);\n    }\n    const {id}= useParams()\n    const deleteUser= async (id)=>{\n        await axios.delete(`http://localhost:8080/user/${id}`)\n        loadUsers()\n    }\n\n    return (\n        <div className='container '>\n            <div className='py-4'>\n                <table className=\"table border-lg shadow-lg \">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Id</th>\n                            <th scope=\"col\">First Name</th>\n                            <th scope=\"col\">Last Name</th>\n                            <th scope=\"col\">User Name</th>\n                            <th scope=\"col\">Email Id</th>\n                            <th scope=\"col\">Action</th>\n\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            users.map((user, index) => (\n                                <tr>\n                                    <th scope=\"row\" key={index}>{index+1}</th>\n                                    <td>{user.firstName}</td>\n                                    <td>{user.lastName}</td>\n                                    <td>{user.userName}</td>\n                                    <td>{user.emailId}</td>\n                                    <td>\n                                        <Link className='btn btn-primary mx-2' to={`/viewuser/${user.id}`}> View</Link>\n                                        {/* <button className='btn btn-outline-primary mx-2'> Edit</button> */}\n                                        <Link className='btn btn-outline-primary mx-2' to={`/edituser/${user.id}`}>Edit</Link>\n                                        <button className='btn btn-danger mx-2 '\n                                        onClick={()=>deleteUser(user.id)}\n                                        > Delete</button>\n\n\n                                    </td>\n                                </tr>\n                            ))\n                        }\n\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    )\n}\n\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}